/* === Base (global) â€” keep in styles.css === */

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  font-family:
    'Roboto',
    -apple-system,
    BlinkMacSystemFont,
    'Segoe UI',
    'Helvetica Neue',
    Arial,
    sans-serif;
  /* keep your existing background/color lines */
}
/* ==== Compact-10 bundle (whole app, safe + reversible) ==== */
/* Tokens */
:root {
  --ui-font-body: clamp(14px, 3.2vw, 19px); /* base text */
  --ui-font-label: clamp(13px, 2.9vw, 18px); /* form labels */
  --ui-font-small: clamp(12px, 2.6vw, 14px); /* nav labels, hints */
  --ui-font-title: clamp(45px, 3.6vw, 20px); /* small titles/cards */
  --ui-pad-v: 2px; /* vertical padding (reduced) */
  --ui-pad-h: 8px; /* horizontal padding */
  --ui-min-tap: 44px; /* min touch size */
  --ui-radius: 15px; /* slightly tighter corners */
  --bottom-nav-h: 50px; /* height of the fixed bottom nav */
  --bottom-gap: 8px; /* comfy visual gap above nav (tweak 4â€“12px) */
}

/* shared panel shell used across views and inner tabs */
.tab-content {
  display: none;
  background: #ffffff;
  border: 2px solid #efebe9;
  border-radius: 16px;
  padding: 8px;
  padding-bottom: 0px;
  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.06);
  .tab-content.active {
    display: block;
  }
  /* keep last CTAs clear of the fixed bottom nav */
  .tab-content {
    padding-bottom: calc(var(--bottom-nav-h) + 2px + env(safe-area-inset-bottom));
  }
  /* keep content clear of the fixed bottom nav, outside the white cards */
  .container {
    padding-bottom: calc(var(--bottom-nav-h) + var(--bottom-gap) + env(safe-area-inset-bottom));
  }
}

.tab-content.active {
  display: block;
}
/* keep last CTAs clear of the fixed bottom nav */
.tab-content {
  padding-bottom: calc(var(--bottom-nav-h) + 4px + env(safe-area-inset-bottom));
}
/* avoid extra scroll from last child margins */
.tab-content > *:last-child {
  margin-bottom: 0;
}

/* Reusable card (same look as .tab-content but not tied to tab logic) */
.tab-card {
  background: #ffffff;
  border: 2px solid #efebe9;
  border-radius: 16px;
  padding: 8px;
  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.253);
}

/* shared form system */
.input-section {
  display: grid;
  grid-template-columns: 1fr;
  gap: 8px;
  margin-bottom: 8px;
}
.input-group {
  display: grid;
  gap: 8px;
}
.input-label {
  font-weight: 700;
  color: #5d4037;
  font-size: 1rem;
  display: flex;
  align-items: center;
  gap: 8px;
}
.input-hint {
  font-size: 0.9rem;
  color: #8d6e63;
}

.input-field {
  padding: 18px 16px;
  border: 2px solid #efebe9;
  border-radius: 16px;
  font-size: 1.05rem;
  font-weight: 500;
  transition: all 0.3s ease;
  background: #fff8e1;
  min-height: 58px;
  width: 100%;
  -webkit-appearance: none;
  appearance: none;
}
.input-field:focus {
  outline: none;
  border-color: #e9b1ff;
  background: #fff9f9;
  box-shadow: 0 0 0 3px rgba(76, 175, 80, 0.2);
}

/* shared results layout */
.results-section {
  display: none;
  grid-template-columns: 1fr;
  gap: 16px;
  margin-top: 16px;
}
.results-section.show {
  display: grid;
}

.result-value {
  font-size: 1.8rem;
  font-weight: 700;
  margin-bottom: 10px;
}
.result-value.excellent {
  color: #4caf50;
}
.result-value.good {
  color: #8bc34a;
}
.result-value.average {
  color: #ffa000;
}
.result-value.poor {
  color: #ff7043;
}
.result-description {
  color: #8d6e63;
  font-size: 0.95rem;
  line-height: 1.6;
}

/* Form modifier: center just this input groupâ€™s label (and optionally the field) */
.input-group--center .input-label {
  display: block;
  text-align: center;
}

.form-vertical {
  display: grid;
  gap: var(--form-gap);
}

/* Labels centered, consistent spacing */
.form-vertical .input-label {
  display: block;
  text-align: center;
  margin: 0 0 var(--form-label-mb) 0;
  font-size: var(--form-label-size);
  font-weight: var(--form-label-weight);
  line-height: 1.2;
}

/* 1) Forms: labels + fields */
.input-label {
  font-size: var(--ui-font-label);
  line-height: 1.2;
}
.input-field,
select,
textarea {
  font-size: var(--ui-font-body);
  padding: calc(var(--ui-pad-v) - 2px) var(--ui-pad-h);
  min-height: var(--ui-min-tap);
  border-radius: var(--ui-radius);
  box-sizing: border-box;
}
/* â€”â€”â€” reusable info icon + mini hints â€”â€”â€” */
.input-label.has-i {
  position: relative;
  padding-right: 18px;
}
.input-label.has-i::after {
  content: 'i';
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 14px;
  height: 14px;
  margin-left: 6px;
  border-radius: 50%;
  border: 1px solid rgba(0, 0, 0, 0.25);
  font-size: 10px;
  font-weight: 700;
  line-height: 1;
  color: #37474f;
  background: #fff;
  vertical-align: middle;
}

.metric-title .info:hover {
  opacity: 1;
}
/* DHP performance colors */
.metric-card.dhp.great {
  background: #e6f4ea;
} /* green tint */
.metric-card.dhp.ok {
  background: #fff7e0;
} /* amber tint */
.metric-card.dhp.low {
  background: #ffe9d6;
} /* orange tint */
.metric-card.dhp.poor {
  background: #ffe3e3;
} /* red tint */

/* Edit Entry: lock fields that must be changed in Edit Flock */
#editModal label[for='editDate'],
#editModal #editDate,
#editModal label[for='editBirds'],
#editModal #editBirds,
#editModal label[for='editEggWeight'],
#editModal #editEggWeight {
  display: none !important;
}

/* Edit Entry: inline toggle row like Calculator */
#editModal #editAltToggleRow {
  display: flex;
  align-items: center;
  gap: 8px;
}
/* Quick Entry: inline toggle row like Calculator */
#quickEntryModal #qeAltToggleRow {
  display: flex;
  align-items: center;
  gap: 8px;
}

/* Share the altfeed-box style with Quick Entry too */
#quickEntryModal .altfeed-box {
  --alt-radius: 10px;
  --frame-offset: 8px;
  --frame-width: 4px;
  position: relative;
  border: none;
  border-radius: var(--alt-radius);
  background: #ceebd0;
  padding: 8px 10px;
  margin-top: 6px;
}
#quickEntryModal .altfeed-box::before {
  content: '';
  position: absolute;
  inset: calc(var(--frame-offset) * -1);
  border: var(--frame-width) dashed #c7c7c7;
  border-radius: calc(var(--alt-radius) + var(--frame-offset));
  pointer-events: none;
}
#quickEntryModal .altfeed-box .input-field {
  background: #fff8e1;
  border-color: #d7ccc8;
}
#quickEntryModal .altfeed-box .input-hint {
  font-size: 12px;
  line-height: 1.2;
  color: #5d4037;
  margin-top: 6px;
}
#quickEntryModal .altfeed-box .input-hint::before {
  content: 'ðŸ’¡ ';
  font-size: 12px;
}

/* Grey out disabled controls in Edit modal */
#editModal [disabled] {
  opacity: 0.5;
  cursor: not-allowed;
}

#recordsTab #historyTab {
  padding-top: 0px;
  padding-left: 4px;
  padding-right: 4px;
  /* keep bottom at 8px if you like the extra space below, or set to 4px as well */
}
/* Calendar cell decorations --------------------------------------------- */
#recordsTab #calendarTab .calendar-day {
  position: relative;
}

#recordsTab #calendarTab .calendar-day .day-badge {
  position: absolute;
  font-size: 0.7em;
  line-height: 1;
  text-shadow: #37474f 1px 2px 4px;
}

#recordsTab #calendarTab .calendar-day .day-badge.note {
  top: 0px;
  left: -6.5px;
  text-shadow: #37474f 1px 2px 4px;
}
#recordsTab #calendarTab .calendar-day .day-badge.weather {
  top: 0px;
  right: -3px;
}

#recordsTab #calendarTab .calendar-day .dot-strip {
  position: absolute;
  left: 8px;
  right: 8px;
  bottom: 3px;
  display: flex;
  gap: 4px;
  align-items: center;
}

#recordsTab #calendarTab .calendar-day .dot {
  width: 6px;
  height: 6px;
  border-radius: 9999px;
  display: inline-block;
}

/* Performance colors (fallbacks; your CSS vars still win) */
#recordsTab #calendarTab .calendar-day .dot[data-performance='excellent'] {
  background: var(--perf-excellent, #01772c);
}
#recordsTab #calendarTab .calendar-day .dot[data-performance='good'] {
  background: var(--perf-good, #42ff42);
}
#recordsTab #calendarTab .calendar-day .dot[data-performance='average'] {
  background: var(--perf-average, #fbbf24);
}
#recordsTab #calendarTab .calendar-day .dot[data-performance='poor'] {
  background: var(--perf-poor, #f87171);
}
/* Narrow screens: tighten the dots a touch */
@media (max-width: 400px) {
  #calendarTab .calendar-day .dot-strip {
    gap: 3px;
  }
}
#calendarTab .day-badge.weather[data-wx='OPTIMAL'] {
  font-size: 0.2rem;
} /* tweak size as you like */

/* Bigger size only for OPTIMAL (âœ…) */
#calendarTab .calendar-day .day-badge.weather[data-wx='OPTIMAL'] {
  font-size: 0.6em !important; /* tweak value; !important ensures it overrides base size */
  line-height: 1;
}
